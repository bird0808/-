# 常用公式

MIPS：每秒多少百万条指令

CPI：执行一条指令所需要多少个时钟周期
$$
MIPS=\frac{指令总数}{cpu执行指令所需时间（单位s）*10^6}=\frac{时钟频率}{CPI*10^6}
$$
***
**Amdahl定律**：
$$
系统加速比=\frac{1}{(1-可改进比例)+\frac{可改进比例}{部件加速比}}
$$
***
**cache采用恒预取后的命中率**：
$$
H^1=\frac{H+n-1}{n}
$$
n为cache的块大小与写数据块重复使用次数的乘积
***

系统等效存取周期：$ 命中率*命中时间+不命中率*不命中开销 $

cpu时间：$（cpu执行周期数+存储器停顿周期数）*时钟周期时间$

cache访问效率：
$$
e=\frac{T_c}{T_m}=\frac{T_c}{H*T_c+(1-H)*T_m} \quad T_c为cache访存时间，T_m为主存访问时间，H为命中率
$$

---

# 流水线公式

吞吐率：$TP=\frac{n}{T_k} \quad n为任务数，T_K为处理完n个任务所用的时间$

加速比：$S=\frac{T_S}{T_K} \quad T_S为顺序处理任务所用的时间,T_K为流水线处理所用的时间$

流水线效率: 
$$
\frac{任务实际占用的时空区面积}{总的时空区面积}
$$

# 互连网络公式

均匀洗牌函数:
$$
\sigma:将二进制循环左移一位 \quad \sigma_{(k)}:表示将低k位进行循环左移一位 \quad \sigma^{(k)}:表示将高k位进行循环左移一位
$$
蝶式互连函数:
$$
\beta:将最高位与最低位交换 \quad \beta_{(k)}:表示将低k位的最高位与最低位互换 \quad \beta^{(k)}:表示将高k位的最高位与最低位互换
$$
Cube函数:

$$
Cube_x:将二进制的x位置反,x从0开始 \quad Cube_1(1101)=1111
$$

反位序函数:
$$
\rho:将二进制位的数据次序颠倒,\rho(1010)=0101,当其带上下标的(k)时,也是将高k为或低k位的数据次序颠倒
$$

PM2I函数:
$$
PM2_{+i}(x)=(x+2^i)mod \quad N \\
PM2_{-i}(x)=(x-2^i)mod \quad N \\
N为处理机的数量,x为第几台处理机
$$
当用函数处理二进制时，注意二进制的位数，当处理机为32台，二进制的位数为5位，2^5=32

**算数性能平均值**：求和后取平均值
$$
A_m=\frac{1}{n}\sum_1^nR_i \quad R_i表示速率,可以是MIPS
$$
**调和性能平均值**:把速率的倒数求和，再用n除以这个和
$$
H_m=\frac{n}{\sum_{i=1}^n{\frac{1}{R_i}}}
$$
**几何性能平均值**：对速率累乘，再开n次方
$$
G_m=\sqrt[n]{\prod_{i=1}^{n}R_i}
$$


